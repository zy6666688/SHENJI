# 数据库配置
DATABASE_URL="postgresql://postgres:password@localhost:5432/audit_engine?schema=public"

# Redis配置
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""

# JWT配置
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="7d"

# 服务器配置
PORT=3000
NODE_ENV=development

# CORS配置
CORS_ORIGIN="http://localhost:8080,http://localhost:5173"

# 文件上传配置
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=10485760  # 10MB

# OpenAI配置 (可选)
OPENAI_API_KEY=""
OPENAI_MODEL="gpt-3.5-turbo"

# 日志配置
LOG_LEVEL="debug"
LOG_FILE="./logs/app.log"

# Session配置
SESSION_SECRET="your-session-secret-change-this"
SESSION_MAX_AGE=604800000  # 7天(毫秒)

# 分页配置
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# 工作流引擎配置
WORKFLOW_STORAGE_DIR="./data/workflows"
EXECUTION_STORAGE_DIR="./data/executions"
WORKFLOW_CACHE_ENABLED=true
WORKFLOW_MAX_CACHE_SIZE=100
EXECUTION_MAX_CACHE_SIZE=100

# 执行监控配置
MONITOR_METRICS_INTERVAL=5000  # 性能指标收集间隔(毫秒)
MONITOR_MAX_LOGS=1000          # 最大日志条数
MONITOR_MAX_METRICS=100        # 最大指标数量

# 执行清理配置
EXECUTION_CLEANUP_DAYS=30      # 清理N天前的执行记录
AUTO_CLEANUP_ENABLED=false     # 是否自动清理
AUTO_CLEANUP_INTERVAL=86400000 # 自动清理间隔(毫秒，默认24小时)

# 重试配置
RETRY_MAX_ATTEMPTS=3
RETRY_INITIAL_DELAY=1000
RETRY_MAX_DELAY=10000
RETRY_BACKOFF_STRATEGY="exponential"  # linear, exponential, fixed

# WebSocket配置
WS_ENABLED=true
WS_PORT=3001
WS_PATH="/ws"

# ========================================
# 长期愿景功能配置
# ========================================

# 分布式执行系统
DISTRIBUTED_ENABLED=false
DISTRIBUTED_IS_COORDINATOR=true
WORKER_CAPACITY=10
REDIS_CLUSTER_NODES=""  # 集群模式: "redis1:6379,redis2:6379,redis3:6379"

# 插件系统
PLUGIN_ENABLED=true
PLUGIN_DIR="./plugins"
PLUGIN_AUTO_ACTIVATE=false
PLUGIN_MARKET_URL=""  # 插件市场URL(可选)

# AI辅助功能
AI_ENABLED=false
AI_PROVIDER="openai"  # openai, anthropic, google, local
AI_MODEL="gpt-4"
AI_ENDPOINT=""  # 自定义端点(可选)
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=2000

# 企业级权限系统 (RBAC)
RBAC_ENABLED=true
RBAC_DEFAULT_ROLE="user:basic"  # admin, workflow:admin, user:basic, auditor

# 审计日志系统
AUDIT_ENABLED=true
AUDIT_RETENTION_DAYS=90
AUDIT_LOG_LEVEL="all"  # all, important, errors
AUDIT_STORAGE="file"  # file, database, s3
